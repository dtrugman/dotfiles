rc_append() {
    local shell="$1"
    local file="$HOME/.${shell}rc"
    [[ -f "$file" ]] || return 0

    local line="$2"
    printf "\n$line" >> "$file"
}

# Add shell config to all rc files
shells=("bash" "zsh")
for shell in "${shells[@]}"; do
    rc_append "$shell" '[[ -s "$HOME/.shell_config" ]] && source "$HOME/.shell_config"'
done

# Install VIM plug and install plugins from the vimrc config
curl -fLo "$HOME/.vim/autoload/plug.vim" --create-dirs "https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim"
vim --noplugin -c "PlugInstall" -c "q" -c "q"
